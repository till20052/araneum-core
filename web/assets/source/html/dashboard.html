<h3>
    <em class="icon-speedometer mr"></em>
    <span translate="admin.dashboard.DASHBOARD">Dashboard</span>
</h3>

<!-- START widgets box-->
<div class="row">
	<div class="col-lg-3 col-sm-6">
		<!-- START widget-->
		<div
			ng-class="{true: 'bg-success', false: 'white'}[statistics.applicationsState.online > 0]"
			class="panel widget">
			<div class="row row-table">
				<div
					ng-class="{true: 'bg-success-dark', false: 'bg-success'}[statistics.applicationsState.online > 0]"
					class="col-xs-4 text-center pv-lg">
					<em class="icon-check fa-3x"></em>
				</div>
				<div class="col-xs-8 pv-lg">
					<div class="h2 mt0">{{statistics.applicationsState.online}}
						<div ng-hide="statistics" class="inline">
							<div class="sk-spinner sk-spinner-circle">
								<div
									ng-repeat="n in [].constructor(12) track by $index"
									ng-bind=""
									class="sk-circle{{$index + 1}} sk-circle">
								</div>
							</div>
						</div>
						<small translate="admin.dashboard.application.APPLICATION">application<span ng-if="statistics.applicationsState.online > 1"><span ng-if="language.selected=='ru'">s</span></span></small>
					</div>
					<div class="text-uppercase" translate="admin.dashboard.application.ONLINE">Online</div>
				</div>
			</div>
		</div>
	</div>
	<div class="col-lg-3 col-sm-6">
		<!-- START widget-->
		<div
			ng-class="{true: 'bg-warning', false: 'white'}[statistics.applicationsState.hasProblems > 0]"
			class="panel widget">
			<div class="row row-table">
				<div
					ng-class="{true: 'bg-warning-dark', false: 'bg-warning'}[statistics.applicationsState.hasProblems > 0]"
					class="col-xs-4 text-center bg-warning-dark pv-lg">
					<em class="fa fa-warning fa-3x"></em>
				</div>
				<div class="col-xs-8 pv-lg">
					<div class="h2 mt0">{{statistics.applicationsState.hasProblems}}
						<div ng-hide="statistics" class="inline">
							<div class="sk-spinner sk-spinner-circle">
								<div
									ng-repeat="n in [].constructor(12) track by $index"
									ng-bind=""
									class="sk-circle{{$index + 1}} sk-circle"
								></div>
							</div>
						</div>
						<small translate="admin.dashboard.application.APPLICATION">application<span ng-if="statistics.applicationsState.hasProblems > 1"><span ng-if="language.selected=='ru'">s</span></span></small>
					</div>
					<div class="text-uppercase" translate="admin.dashboard.application.PROBLEM">Problem</div>
				</div>
			</div>
		</div>
	</div>
	<div class="col-lg-3 col-md-6 col-sm-12">
		<!-- START widget-->
		<div
			ng-class="{true: 'bg-danger', false: 'white'}[statistics.applicationsState.hasErrors > 0]"
			class="panel widget">
			<div class="row row-table">
				<div
					ng-class="{true: 'bg-danger-dark', false: 'bg-danger'}[statistics.applicationsState.hasErrors > 0]"
					class="col-xs-4 text-center bg-danger-dark pv-lg">
					<em class="icon-ban fa-3x"></em>
				</div>
				<div class="col-xs-8 pv-lg">
					<div class="h2 mt0">{{statistics.applicationsState.hasErrors}}
						<div ng-hide="statistics" class="inline">
							<div class="sk-spinner sk-spinner-circle">
								<div
									ng-repeat="n in [].constructor(12) track by $index"
									ng-bind=""
									class="sk-circle{{$index + 1}} sk-circle"
								></div>
							</div>
						</div>
						<small translate="admin.dashboard.application.APPLICATION">application<span ng-if="statistics.applicationsState.hasErrors > 1"><span ng-if="language.selected=='ru'">s</span></span></small>
					</div>
					<div class="text-uppercase" translate="admin.dashboard.application.ERROR">Error</div>
				</div>
			</div>
		</div>
	</div>
	<div class="col-lg-3 col-md-6 col-sm-12">
		<!-- START date widget-->
		<div
			ng-class="{true: 'bg-gray', false: 'white'}[statistics.applicationsState.disabled > 0]"
			class="panel widget">
			<div class="row row-table">
				<div
					ng-class="{true: 'bg-gray-dark', false: 'bg-gray'}[statistics.applicationsState.disabled > 0]"
					class="col-xs-4 text-center bg-gray pv-lg">
					<em class="icon-lock fa-3x"></em>
				</div>
				<div class="col-xs-8 pv-lg">
					<div class="h2 mt0">{{statistics.applicationsState.disabled}}
						<div ng-hide="statistics" class="inline">
							<div class="sk-spinner sk-spinner-circle">
								<div
									ng-repeat="n in [].constructor(12) track by $index"
									ng-bind=""
									class="sk-circle{{$index + 1}} sk-circle"
								></div>
							</div>
						</div>
						<small translate="admin.dashboard.application.APPLICATION">application<span ng-if="statistics.applicationsState.disabled > 1"><span ng-if="language.selected=='ru'">s</span></span></small>
					</div>
					<div class="text-uppercase" translate="admin.dashboard.application.DISABLED">Disabled</div>
				</div>
			</div>
		</div>
		<!-- END date widget    -->
	</div>
</div>
<!-- END widgets box-->


    <div class="row">
        <div class="col-md-6" ng-controller="AppStatusesChartController">
            <div id="panelChart5" class="panel panel-default" ng-class="{'traditional whirl' : onLoading}">
                <div class="panel-heading">
                    <paneltool tool-collapse="tool-collapse" tool-refresh="traditional"></paneltool>
                    <div class="panel-title" translate="admin.dashboard.wiget.APPLICATION_STATUSES">
                        <em class="icon-screen-tablet mr"></em>
                        Statuses for last 24 hour by applications
                    </div>
                </div>
                <div collapse="panelChart5" class="panel-wrapper">
                    <div class="panel-body">
                        <div class="container-fluid">
                            <div class="row mb-lg">
                                <div class="col-lg-12">

                                    <div
                                            ng-repeat="error in errors"
                                            class="bg-danger alert alert-error"
                                    >{{error}}</div>


                                    <div>
                                        <canvas barchart="" options="barOptions" data="barData"
                                                responsive="true"></canvas>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-lg-6" ng-controller="StateAvgAppChartController">
            <!-- START chart-->
            <div class="row">
                <div class="col-lg-12">
                    <!-- START widget-->
                    <div class="container-fluid">
                        <div id="panelChart1" class="panel panel-default" ng-class="{'traditional whirl' : onLoading}">
                            <div class="panel-heading">
                                <paneltool tool-collapse="tool-collapse" tool-refresh="traditional"></paneltool>
                                <div class="panel-title" translate="admin.dashboard.wiget.AVERAGE_APPLICATION_STATUSES">
                                    <em class="icon-screen-tablet mr"></em>
                                    Average application statuses by last 24 hours
                                </div>
                            </div>

                            <div
                                    ng-repeat="error in errors"
                                    class="bg-danger alert alert-error"
                            >{{error}}</div>

                            <div ng-show="lineData" collapse="panelChart1" class="panel-wrapperl">
                                <div class="panel-body">
                                    <flot dataset="lineData" options="lineOptions"></flot>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- END widget-->
                </div>
            </div>
            <!-- END chart-->
        </div>
    </div>

<div class="row">
	<!-- START dashboard main content-->
	<div class="col-lg-9" ng-controller="ClusterLoadAverageController">
		<!-- START chart-->
		<div class="row">
			<div class="col-lg-12">
				<!-- START widget-->
				<div id="panelChart9" class="panel panel-default" ng-class="{'traditional whirl' : onLoading}">
					<div class="panel-heading">
						<paneltool tool-collapse="tool-collapse" tool-refresh="traditional"></paneltool>
						<div class="panel-title" translate="admin.dashboard.wiget.CLUSTER_LOAD_AVERAGE">
							<em class="icon-grid mr"></em>
							Cluster load average by last 24 hours
						</div>
					</div>
					<div collapse="panelChart9" class="panel-wrapper">
						<div class="panel-body">
							<flot dataset="splineData" options="splineOptions" class="ng-isolate-scope"
								  height="300px"></flot>
						</div>
					</div>
				</div>
				<!-- END widget-->
			</div>
		</div>
		<!-- END chart-->
	</div>
	<div class="col-lg-3">
		<div ng-controller="UpTimeClusterController" class="container-fluid">
			<div id="panelChart2" class="panel panel-default" ng-class="{'traditional whirl' : onLoading}">
				<div class="panel-heading">
					<paneltool tool-collapse="tool-collapse" tool-refresh="traditional"></paneltool>
					<div class="panel-title">
						<em class="icon-grid mr"></em>
						<span class="ng-binding" translate="admin.dashboard.wiget.CLUSTER_UP_TIME">Clusters UpTime by last 24 hours</span>
					</div>
				</div>
				<div collapse="panelChart2" class="panel-wrapper">
					<div class="panel-body">
						<flot dataset="barData" options="barOptions" height="300px"></flot>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>

<div class="row">
	<div class="col-lg-12">
		<div ng-controller="SummaryDashboardController" class="panel widget">
			<div class="row row-table">
				<div class="col-md-2 col-sm-3 col-xs-6 text-center bg-info pv-xl">
					<em class="icon-notebook fa-4x"></em>
				</div>
				<div
					ng-repeat="item in statistics"
					ng-class="{'whirl traditional': item.value == undefined}"
					class="col-md-2 col-sm-3 col-xs-6 pv text-center br">
					<div class="text-info text-sm" translate="{{ item.name }}">{{ item.name }}</div>
					<div class="text-muted text-md">
						<em ng-class="'icon-'+item.icon"></em>
					</div>
					<div
						ng-if="item.value != undefined"
						class="text-muted">
						{{ item.value }}
					</div>
				</div>
			</div>
		</div>
	</div>
</div>

<div class="row">
	<!-- START dashboard main content-->
	<div class="col-lg-6">
		<div ng-controller="RegisteredCustomersController" class="container-fluid">
			<div id="panelChart11" class="panel panel-default" ng-class="{'traditional whirl' : onLoading}">
				<div class="panel-heading">
					<paneltool tool-collapse="tool-collapse" tool-refresh="traditional"></paneltool>
					<div class="panel-title" translate="admin.dashboard.wiget.CUSTOMERS_REGISTRATION">
						<em class="icon-user-follow mr"></em>
						Customers registration received from applications (24 hours)
					</div>
				</div>
				<div collapse="panelChart2" class="panel-wrapper">
					<div class="panel-body">
						<flot dataset="data" options="options" height="300px"></flot>
					</div>
				</div>
				<div class="panel-footer">
					<p class="text-muted">
						<em class="icon-cloud-upload mr-sm"></em>
						<span translate="admin.dashboard.wiget.RECEIVED_FROM_APPLICATION">Received from all applications</span>
						<span class="text-dark">{{ count }} <span translate="">customers</span></span>
					</p>
				</div>
			</div>
		</div>
	</div>
	<div class="col-lg-6">
		<div ng-controller="ReceivedEmailsController" class="container-fluid">
			<div id="panelChart12" class="panel panel-default" ng-class="{'traditional whirl' : onLoading}">
				<div class="panel-heading">
					<paneltool tool-collapse="tool-collapse" tool-refresh="traditional"></paneltool>
					<div class="panel-title" translate="admin.dashboard.wiget.EMAIL_RECIEVED">
						<em class="icon-layers mr"></em>
						Email received from applications (24 hours)
					</div>
				</div>
				<div collapse="panelChart2" class="panel-wrapper">
					<div class="panel-body">
						<flot dataset="data" options="options" height="300px"></flot>
					</div>
					<div class="panel-footer">
						<p class="text-muted">
							<em class="icon-cloud-upload mr-sm"></em>
							<span translate="admin.dashboard.wiget.RECEIVED_FROM_APPLICATION">Received from all applications</span>
							<span class="text-dark">{{ count }} <span translate="admin.dashboard.wiget.EMAILS">emails</span></span>
						</p>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>